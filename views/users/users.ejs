<!DOCTYPE html>
<%- include('../partials/head') %>
<body class="layout-light side-menu">
   <%- include('../partials/header') %>
   <main class="main-content">
      <%- include('../partials/sidebar') %>
      <div class="contents">
         <div class="container-fluid">
            <div class="row">
               <div class="col-lg-12">
                  <div class="contact-breadcrumb">
                     <div class="breadcrumb-main add-contact justify-content-sm-between">
                        <div class=" d-flex flex-wrap justify-content-center breadcrumb-main__wrapper">
                           <div class="d-flex align-items-center add-contact__title justify-content-center me-sm-25">
                              <h4 class="text-capitalize fw-500 breadcrumb-title">Users</h4>
                              <span class="sub-title ms-sm-25 ps-sm-25"></span>
                           </div>
                        </div>
                        <div class=" d-flex flex-wrap justify-content-center breadcrumb-main__wrapper">
                           <div class="d-flex align-items-center add-contact__title justify-content-center me-sm-25">
                              <span class="sub-title ms-sm-25 ps-sm-25"></span>
                           </div>
                           <div class="action-btn mt-sm-0 mt-15">
                              <a href="#" class="btn px-20 btn-primary " data-bs-toggle="modal" data-bs-target="#add-user">
                                 <i class="las la-plus fs-16"></i>Add New
                              </a>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="row">
               <div class="col-lg-12 mb-30">
                  <div class="card">
                     <div class="card-header color-dark fw-500">
                        User List
                     </div>
                     <div class="card-body">

                        <div class="userDatatable global-shadow border-light-0 w-100">
                           <div class="table-responsive">
                              <table class="table mb-0 table-borderless">
                                 <thead>
                                    <tr class="userDatatable-header">
                                       <th>
                                          <span class="userDatatable-title">Name</span>
                                       </th>
                                       <th>
                                          <span class="userDatatable-title">Email</span>
                                       </th>
                                       <th>
                                          <span class="userDatatable-title">Password</span>
                                       </th>
                                       <th>
                                          <span class="userDatatable-title">Agency</span>
                                       </th>
                                       <th>
                                          <span class="userDatatable-title">Job</span>
                                       </th>
                                       <th>
                                          <span class="userDatatable-title float-end">Actions</span>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <% for( let i = 0; i < user.length; i++ ) { %>
                                       <tr>
                                          <td>
                                             <div class="d-flex">
                                                <div class="userDatatable-content">
                                                   <%= user[i].employee.name %>
                                                </div>
                                             </div>
                                          </td>
                                          <td>
                                             <div class="userDatatable-content">
                                                <%= user[i].employee.email %>
                                             </div>
                                          </td>
                                          <td>
                                             <div class="userDatatable-content">
                                                **********
                                             </div>
                                          </td>
                                          <td>
                                             <div class="userDatatable-content">
                                                <%= user[i].employee.agency.name %>
                                             </div>
                                          </td>
                                          <td>
                                             <div class="userDatatable-content">
                                                <%= user[i].employee.job %>
                                             </div>
                                          </td>
                                          <td>
                                             <ul class="orderDatatable_actions mb-0 d-flex flex-wrap">
                                                <li>
                                                   <a href="/edit-user<%= user[i]._id %>" class="edit">
                                                      <i class="uil uil-edit"></i>
                                                   </a>
                                                </li>
                                                <form method="post">
                                                <li>
                                                   <button class="delete" name="delete" value="<%= user[i]._id %>">
                                                   <a href="" class="remove">
                                                      <i class="uil uil-trash-alt"></i>
                                                   </a>
                                                </button>
                                                </li>
                                             </form>
                                             </ul>
                                          </td>
                                       </tr>
                                    <% } %>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>  
            </div>
         </div>       
      </div> 
      <%- include('../partials/modal') %>
      <%- include('../partials/footer') %>

      <div class="modal fade add-user " id="add-user" role="dialog" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content radius-xl">
               <div class="modal-header">
                  <h6 class="modal-title fw-500" id="staticBackdropLabel">Add User</h6>
                  <button type="button" class="close shadow-none border-0 bg-transparent" data-bs-dismiss="modal" aria-label="Close">
                     <img src="static/img/svg/x.svg" alt="x" class="svg">
                  </button>
               </div>
               <div class="modal-body">
                  <div class="add-new-contact">
                     <form method="post">
                        <div class="form-group mb-25">
                           <label for="employee">
                              Employee
                           </label>
                           <select class="js-example-basic-single js-states form-control" name="employee">
                              <option>Select Employee</option>
                              <% for( let i = 0; i < employee.length; i++ ) { %>
                                 <option value="<%= employee[i]._id %>"><%= employee[i].name %></option>
                              <% } %>
                           </select>
                        </div>
                        <div class="form-group mb-20">
                           <label for="password">Password</label>
                           <input type="password" class="form-control form-control-lg" name="password" placeholder="********">
                        </div>
                        <label>Is Manager?</label>
                        <div class="form-group mb-25 d-flex">
                           <div class="m-3">
                              <div class="radio-theme-default custom-radio ">
                                 <input class="radio" type="radio" value="true" id="isManager" name="isManager" checked>
                                 <label for="isManager">Yes</label>
                              </div>
                           </div>
                           <div class="m-3">
                              <div class="radio-theme-default custom-radio ">
                                 <input class="radio" type="radio" value="false" id="isManager2" name="isManager">
                                 <label for="isManager2">
                                    <span class="radio-text">No</span>
                                 </label>
                              </div>
                           </div>
                        </div>
                        <div class="form-group mb-20">
                           <input type="hidden" class="form-control form-control-lg" id="isAdmin" name="isAdmin" value="false">
                        </div>
                        <div class="button-group d-flex pt-20">
                           <button class="btn btn-primary btn-default btn-squared">Add User</button>
                        </div>
                     </form>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </main>
   <%- include('../partials/script') %>
</body>
</html>